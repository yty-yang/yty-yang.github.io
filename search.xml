<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello World</title>
    <url>/2023/05/26/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
  </entry>
  <entry>
    <title>èŠ±äº†ä¸€äº›æ—¶é—´å¤§æ¦‚æŠ˜è…¾å®ŒBlogé¡µé¢åçš„ä¸€ç‚¹ç‚¹ä½“ä¼š</title>
    <url>/2023/05/27/%E8%8A%B1%E4%BA%86%E4%B8%80%E4%BA%9B%E6%97%B6%E9%97%B4%E5%A4%A7%E6%A6%82%E6%8A%98%E8%85%BE%E5%AE%8Cblog%E9%A1%B5%E9%9D%A2%E5%90%8E%E7%9A%84%E4%B8%80%E7%82%B9%E7%82%B9%E4%BD%93%E4%BC%9A/</url>
    <content><![CDATA[<p>ç°åœ¨è¿™ä¸ªç½‘ç«™è‚¯å®šåªæœ‰æˆ‘ä¸€ä¸ªäººä¼šçœ‹å•¦æ‰€ä»¥æ–‡ç« ä»€ä¹ˆçš„å°±éšä¾¿å†™å†™ï¼Œ<del>ï¼ˆå¦‚æœï¼Œæˆ‘æ˜¯è¯´å¦‚æœï¼Œæœ‰æµè§ˆé‡äº†çš„è¯ï¼Œè¿™ç§é»‘å†å²è‚¯å®šåˆ çš„ä¸€å¹²äºŒå‡€ğŸ‘ŠğŸ‘Šï¼‰</del></p>
<p>åšè¿™ä¸ªç½‘ç«™æ˜¯å› ä¸ºé—²çš„æ²¡äº‹ <del>ï¼ˆå…¶å®æœ‰äº‹ä½†ä¸æƒ³åšï¼Œæ‰€ä»¥å°±ä¼šè½¬è€Œåšå„ç§ä¹±ä¸ƒå…«ç³Ÿçš„äº‹æƒ…ï¼‰</del>ï¼Œä»¥åŠå›½é™…è€ƒè¦ç»“æŸåå‡†å¤‡ä¸‹å®šå†³å¿ƒå†™ç‚¹ä»£ç äº†ï¼ˆè™½ç„¶çœ‹èµ·æ¥è¿™ä¸ªåšå®¢çš„æŠ€æœ¯æµ“åº¦åº”è¯¥å¾ˆä½ï¼‰</p>
<p>æœ¬æ¥ä¸€ç›´å¯¹è°ƒåŒ…ä½œä¸šéå¸¸é„™å¤·ï¼Œæ¯•ç«Ÿ <strong>â€œè°ƒåŒ…è°ä¸ä¼šå˜›ï¼åˆä¸æ˜¯è‡ªå·±å†™çš„ã€‚ã€‚ã€‚â€</strong> å—¯ï¼Œä¸Šæ‰‹ä¹‹åï¼š<strong>å±…ç„¶çœŸçš„æœ‰äººä¸ä¼šï¼Œæ˜¯è°ğŸ‘€ï¼Œæ˜¯æˆ‘ğŸ˜Š</strong>ï¼ˆå› æ­¤æ²¡æœ‰äº†ä¸å­¦machine learningçš„ç†ç”±ğŸ˜‚ï¼‰</p>
<p>å‰ç«¯ <del>ï¼ˆå¤„åœ¨é„™è§†é“¾åº•ç«¯çš„å­˜åœ¨ï¼‰</del>ï¼Œè™½ç„¶ç¡®å®å®¹æ˜“ä¸Šæ‰‹ï¼Œä¹Ÿä¸éœ€è¦åŠ¨è„‘å­ï¼Œä½†æ˜¯ç¡®å®æ€¥éœ€ç†Ÿç»ƒå·¥å’Œç¾æœ¯ç”ŸğŸ˜­ã€‚ã€‚ã€‚èŠ±å‡ ä¸ªå°æ—¶è´´å‡ å¼ å›¾ï¼Œè¿˜è´´å‡ºä¸€é“ç¼å‡ºæ¥åšå‡ºæ¥çš„ä¸œè¥¿ä¹Ÿä¸æ˜¯ä¸èƒ½ç”¨ï¼Œå°±æ˜¯ç”¨çš„è®©äººæœ‰ä¸€ç§æƒ³è¦å»ä¸–çš„å†²åŠ¨ã€‚</p>
<p>ç°åœ¨å†æƒ³æƒ³æ•´ä¸ªè¿‡ç¨‹ï¼Œåœ¨csdnçš„åƒåœ¾å †ä¸­åˆ¨å–å¯Œæœ‰ä¸€äº›è¥å…»çš„åƒåœ¾ <del>å—¯ä¸è¿‡ç¡®å®æˆ‘è§‰å¾—æœ‰å‡ ä¸ªé«˜è´¨é‡çš„å¸–å­çš„è¿˜æ˜¯ä¸è¿‡ä¹Ÿæœ‰å¯èƒ½æˆ‘å¤ªèœäº†çœ‹ä»€ä¹ˆéƒ½è§‰å¾—å¥½nb</del>ï¼Œå…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆéš¾å¼„ï¼ˆå“¦ï¼è™½ç„¶ç¡®å®æœ‰ä¸ªé—®é¢˜æ²¡è§£å†³ã€‚ã€‚ã€‚è§£å†³çš„æ–¹æ³•æ˜¯åˆ æ‰ä»æ¥ä¸€éä¸çŸ¥é“ä¸ºä»€ä¹ˆåˆå¥½äº†ï¼‰ï¼Œå°±æ˜¯è‡ªå·±äº²ç”Ÿç»å†çš„æ—¶å€™å®¹æ˜“æ„Ÿåˆ°æš´èºğŸ˜¡ï¼Œä»¥åŠåœ¨ç™¾åº¦Googleä¸Šé€›æ¥é€›å»æ‰¾ä¸åˆ°ç­”æ¡ˆçš„æš´ï¼ï¼ï¼èºï¼ï¼ï¼</p>
<p>æ‰“åˆ°è¿™é‡Œå‘ç°markdownè¯­æ³•é›€é£Ÿå¥½ç”¨ä¸ºä»€ä¹ˆæˆ‘ä¹‹å‰éƒ½ä¸ç”¨å‘¢ã€‚ã€‚ã€‚ä¸è¿‡æˆ‘å¾ˆå–œæ¬¢ä»–ç•Œé¢çš„ä¸€ä¸ªè½¯ä»¶â€˜Effieâ€™è™½ç„¶è¯´èµ·æ¥ä¹Ÿæ˜¯markdownä½†ä»–çš„è¯­æ³•æœ‰ç‚¹å¥‡æ€ªï¼Œåœ¨è¿™é‡Œæ€»ç»“ä¸‹æ­£ç»Ÿmarkdownè¯­æ³•ç»ƒä¹ ä¸€ä¸‹å§é¡ºä¾¿ï¼ˆå—¯æ€»ç»“å®Œæˆ‘è‚¯å®šèµ·åºŠåƒæ—©é¥­å†™å·å­å» i hopeï¼‰(btw itâ€™s rly annoying to keep changing my ime while using markdown)</p>
<h1 id="ä¸€çº§æ ‡é¢˜"><a href="#ä¸€çº§æ ‡é¢˜" class="headerlink" title="# ä¸€çº§æ ‡é¢˜"></a># ä¸€çº§æ ‡é¢˜</h1><h2 id="äºŒçº§æ ‡é¢˜"><a href="#äºŒçº§æ ‡é¢˜" class="headerlink" title="## äºŒçº§æ ‡é¢˜"></a>## äºŒçº§æ ‡é¢˜</h2><h4 id="ä»¥æ­¤ç±»æ¨â€¦"><a href="#ä»¥æ­¤ç±»æ¨â€¦" class="headerlink" title="ä»¥æ­¤ç±»æ¨â€¦"></a>ä»¥æ­¤ç±»æ¨â€¦</h4><h6 id="å…­çº§æ ‡é¢˜ï¼ˆæœ€å°äº†ï¼‰"><a href="#å…­çº§æ ‡é¢˜ï¼ˆæœ€å°äº†ï¼‰" class="headerlink" title="###### å…­çº§æ ‡é¢˜ï¼ˆæœ€å°äº†ï¼‰"></a>###### å…­çº§æ ‡é¢˜ï¼ˆæœ€å°äº†ï¼‰</h6><p><em><strong>***åŠ ç²—æ–œä½“***</strong></em><br><strong>**åŠ ç²—**</strong><br><em>*æ–œä½“*</em></p>
<p>~~~~åˆ é™¤~~~~</p>
<p>ä¸­å›½æœ‰å¥å¤è¯ï¼š </p>
<blockquote>
<p>è¥¿è¥¿è¯¯è§£ä¸ºä¿Šæ°ï¼ˆå¼•ç”¨ï¼šæ˜¯è¿™ä¸ªç¬¦å· â¡ï¸ &gt; ï¼‰</p>
</blockquote>
<hr>
<p>â€”æˆ‘æ˜¯åˆ†å‰²çº¿â€”ï¼ˆæˆ‘æ˜¯è¯´åˆ†å‰²çº¿å°±æ˜¯â€”æ‰“å‡ºæ¥çš„éƒï¼‰</p>
<h2 id="è¿˜å¯ä»¥è¿™æ ·ç”¨ï¼"><a href="#è¿˜å¯ä»¥è¿™æ ·ç”¨ï¼" class="headerlink" title="è¿˜å¯ä»¥è¿™æ ·ç”¨ï¼"></a>è¿˜å¯ä»¥è¿™æ ·ç”¨ï¼</h2><p>ï¼ˆæŒ‡åˆ†å‰²çº¿ä¸Šæ–¹çš„å­—å˜æˆäºŒçº§æ ‡é¢˜ï¼‰</p>
<hr>
<p>å—¯è¿˜å¯ä»¥æ’å›¾ç‰‡ä½†æ˜¯ä¼ åšå®¢å¥½åƒæœ‰ç‚¹éº»çƒ¦ä¸‹æ¬¡å†çœ‹å§</p>
<p><a href="http://baidu.com/" title="baidu">ç™¾åº¦</a>å—¯è¶…é“¾æ¥å¯ä»¥ï¼Œæ ¼å¼æ˜¯ï¼š [name](address â€œtitleâ€)</p>
<p>æ‰“åˆ°è¿™é‡Œæˆ‘å¼€å§‹ç†è§£ä¸ºä»€ä¹ˆæœ‰ä¸­å›½äººå†™english blogäº†</p>
<p>ä»Šå¤©å°±è¿™ä¹ˆå¤šå•¦ï¼Œä¸‹æ¬¡å†è§ğŸ‘‹ï¼ˆä¸€å®šè¦å¬æˆ‘æ’åœ¨å·¦è¾¹çš„æˆ¿çŒ«çš„æ­Œå•ŠğŸ¤©ï¼‰</p>
]]></content>
      <categories>
        <category>å‘ç–¯æ—¥å¸¸</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>markdown</tag>
      </tags>
  </entry>
  <entry>
    <title>Self Balancing Tree Summary</title>
    <url>/2023/08/02/Self-Balancing-Tree-summary/</url>
    <content><![CDATA[<h1 id="è‡ªå¹³è¡¡æ ‘çš„ä¸€äº›æ€»ç»“"><a href="#è‡ªå¹³è¡¡æ ‘çš„ä¸€äº›æ€»ç»“" class="headerlink" title="è‡ªå¹³è¡¡æ ‘çš„ä¸€äº›æ€»ç»“"></a>è‡ªå¹³è¡¡æ ‘çš„ä¸€äº›æ€»ç»“</h1><p>æœ€è¿‘åœ¨å­¦cs61bï¼Œ ç„¶åå¤æ ¡è¦å†™ä¸ªç»“è¯¾essayï¼Œæ­£å¥½å°±æ€»ç»“ä¸€ä¸‹æœ€è¿‘å­¦çš„è¿™å‡ ä¸ªdata structureã€‚</p>
<p>å› ä¸ºæ˜¯essayï¼Œç»ƒä¹ äº†ä¸€ä¸‹LaTeXã€‚æ‡’å¾—å»çœ‹æ€ä¹ˆè®©hexoæ”¯æŒLaTeXè¯­æ³•äº†ï¼Œå°±ç›´æ¥æŠŠpdfç‰ˆè´´è¿‡æ¥ã€‚<br><a href="/pdf/self_balancing_tree.pdf">pdf</a></p>
]]></content>
      <categories>
        <category>å­¦ä¹ ç›¸å…³</category>
      </categories>
      <tags>
        <tag>summary</tag>
        <tag>cs61b</tag>
      </tags>
  </entry>
  <entry>
    <title>CS61b Project2: Main Structure of My Gitlet</title>
    <url>/2023/08/03/CS61b-project2-main-structure-of-my-gitlet/</url>
    <content><![CDATA[<p>CS61bçš„ç²¾é«“ï¼šproject2ã€‚åœ¨åŸ‹å¤´å†™å®Œå››äº”ä¸ªåŠŸèƒ½ä¹‹åå†™åˆ°checkoutï¼Œè„‘å­å·²ç»ä¹±çš„ä¸è¡Œäº†ï¼Œéƒ½ä¸çŸ¥é“è‡ªå·±åˆ›å»ºäº†ä»€ä¹ˆæ–‡ä»¶å¤¹ï¼Œéƒ½æœ‰å“ªäº›ç±»æ¯ä¸ªç±»æ”¾å“ªé‡Œâ€¦ç¡®å®ï¼ŒæŒ‰ç…§noteéœ€è¦å†™ä¸€ä¸ªgitlet-designçš„æ–‡æ¡£è¯´æ˜gitletçš„ç»“æ„ã€‚æœ¬æ¥ä»¥ä¸ºè¿™ä¸»è¦æ˜¯è§„èŒƒåŒ–ï¼Œè®©åˆ«äººèƒ½è¯»æ‡‚å†™å‡ºæ¥çš„ä»£ç ï¼Œæ²¡æƒ³åˆ°é¡¹ç›®æ—¶é—´è¶…è¿‡ä¸€å¤©ï¼Œç¡®å®æ˜¯ç¡ä¸€è§‰ä¹‹åæ˜¨å¤©å†™çš„å°±æ˜¯åˆ«äººå†™çš„ï¼Œæ ¹æœ¬ä¸çŸ¥é“æ˜¯ä»€ä¹ˆæ„æ€ã€‚</p>
<p>ç°åœ¨ï¼Œé‰´äºæˆ‘å·²ç»ä¸å¤§çŸ¥é“æˆ‘å†™äº†ä»€ä¹ˆäº†ï¼Œå¿…é¡»å¾—åŠæ—¶æ­¢æŸå¿ç—›é‡å†™ã€‚â€œå…ˆæŠŠç»“æ„è§„åˆ’å¥½ï¼Œå†å¡«è¡¥ç»†èŠ‚â€çš„ä¹ æƒ¯ç°åœ¨çœ‹èµ·æ¥æ˜¯éå¸¸çš„é‡è¦ã€‚ä»£ç ç®€å•ï¼Œåªæœ‰ä¸€æ¡çº¿æ€§çš„é€»è¾‘çš„æ—¶å€™è„‘è¢‹é‡Œæƒ³ä¸€æƒ³ï¼Œç»†èŠ‚å’Œæ¡†æ¶ä¸€èµ·å‡ºæ¥äº†å°±é¡ºç€å†™ä¸‹å»ï¼Œç­‰åˆ°ä»£ç å¤æ‚çš„æ—¶å€™ï¼Œçœ¼å…‰å°±ä¼šè¢«å±€é™åœ¨ç»†èŠ‚çš„åœ°æ–¹ï¼Œå†™åˆ°åé¢æ‰å‘ç°æœ‰å¾ˆå¤šå…¶ä»–çš„æ“ä½œä¹Ÿä¼šå½±å“ä¹‹å‰çš„æ“ä½œï¼Œç„¶åä¸æ–­æ”¹æ¥æ”¹å»ã€‚æ‰€ä»¥è¯´ï¼Œåœ¨ç»å†ç—›æ‰“ä¹‹åå¤§å®¶å°±ä¼šæ„è¯†åˆ°abstractionç¡®å®æ˜¯éå¸¸æœ‰ç”¨çš„æ–¹æ³•ã€‚</p>
<p>anywayï¼Œä¸‹ä¸€éƒ¨åˆ†æ˜¯æˆ‘çš„gitletçš„ç»“æ„ï¼ˆæˆ‘è§‰å¾—åº”è¯¥å…ˆæƒ³æ–‡ä»¶å­˜æ”¾åœ¨å“ªé‡Œï¼Œæ–‡ä»¶å¤¹æ€ä¹ˆå¥—ï¼Œæ–‡ä»¶é‡Œå­˜ä»€ä¹ˆï¼Œç„¶åå†æƒ³æ€ä¹ˆå†™codeæ“ä½œè¿™äº›æ–‡ä»¶ã€‚æ–‡ä»¶å¤¹åˆ†å¥½äº†ï¼Œä»£ç ä¹Ÿå¤§å·®ä¸å·®ï¼ŒåŸºæœ¬ä¸Šä¸€ä¸ªclasså¯¹åº”ä¸€ä¸ªæ–‡ä»¶å¤¹å§ï¼‰</p>
<p><img src="/../image/gitlet_structure.png" alt="image"></p>
<p><strong>init</strong></p>
<ol>
<li>create <em>GITLET_DIR</em></li>
<li>create <em>Blobs</em></li>
<li>create <em>Commits</em><br>new a commit(auto commit, no parent, empty fileversion)<br>new a tree, add the commit to it, save</li>
<li>create <em>Branches</em><br>new a branch(named â€˜masterâ€™), set auto commit as beginCommit and endCommit, save</li>
<li>create <em>Stages</em><br>new a stage, set branchName as â€˜masterâ€™</li>
</ol>
<p><strong>add</strong></p>
<ol>
<li>create a blob, put &lt;file, blob&gt; into â€˜additionâ€™ in stage</li>
</ol>
<p><strong>commit</strong></p>
<ol>
<li>create a commit, set â€˜fileversionâ€™ as its parent commitâ€™s â€˜fileversionâ€™</li>
<li>if a file is in â€˜Additionâ€™, overwirte the file in â€˜fileversionâ€™ by the version of that in â€˜Additionâ€™, clear â€˜Additionâ€™</li>
<li>if a file is in â€˜Removalâ€™, remove the file from stage, clear â€˜Removalâ€™</li>
<li>renew the endCommmit of the branch</li>
</ol>
<p><strong>rm</strong></p>
<ol>
<li>check if the file is in â€˜Additionâ€™; delete it and its corresponding blob if itâ€™s in</li>
<li>check if the file is tracked in headcommit(if the â€˜fileversionâ€™ of head commit contains the file), put it in â€˜Removalâ€™ area of stage, delete it from workingdir</li>
</ol>
<p><strong>log</strong></p>
<ol>
<li>print head commit</li>
<li>print itâ€™s parent commit</li>
</ol>
<p><strong>global-log</strong></p>
<ol>
<li>iterate the â€˜Commitsâ€™ directory, print each of the commits.</li>
</ol>
<p><strong>find</strong></p>
<ol>
<li>iterate the â€˜Commitsâ€™ directory, print the commits with the message looking for</li>
</ol>
<p><strong>status</strong></p>
<ol>
<li>print branch</li>
<li>print files in â€˜Additionâ€™</li>
<li>print files in â€˜Removalâ€™</li>
<li>check if all files that are tracked by headcommit and not in â€˜Removalâ€™ exist in workingdir, if not, save the file name</li>
<li>print files which are missing</li>
<li>create a blob of all files that exist in workingdir</li>
<li>compare them with the tracked version in headcommit, use a flag to store if itâ€™s same or not.</li>
<li>compare them with the version in â€˜Additionâ€™(if they are in it), use a flag to store if itâ€™s same or not.</li>
<li>print filesâ€™ name which are different</li>
<li>save files which are not tracked by headcommit, and not in â€˜Additionâ€™</li>
<li>print the filesâ€™ name</li>
</ol>
<p>ï¼ˆå°±æ˜¯å†™åˆ°è¿™ä¸ªåŠŸèƒ½ç„¶åå°±å‘ç°ä¹±ä¸ƒå…«ç³Ÿï¼‰</p>
<p><strong>checkout</strong></p>
<ol>
<li>find the blob needed</li>
<li>overwrite the file in workingdir</li>
<li>put the new &lt;file, blob&gt; in â€˜Additionâ€™</li>
</ol>
]]></content>
      <categories>
        <category>å­¦ä¹ ç›¸å…³</category>
      </categories>
      <tags>
        <tag>cs61b</tag>
      </tags>
  </entry>
  <entry>
    <title>Operating System</title>
    <url>/2024/02/06/Operating-system/</url>
    <content><![CDATA[<p>ä»Šå¤©å‰‘æ¡¥é¡¹ç›®çš„åŠ©æ•™çªç„¶æœ‰äº‹æ²¡å»ï¼Œæœ¬ç‰›æ´¥é¡¹ç›®çš„åŠ©æ•™è¢«æ‹‰å»æ•‘æ€¥ã€‚ä¸Šæ¬¡å·²ç»ä¸Šè¿‡ä¸€éå‰‘æ¡¥çš„é¡¹ç›®ï¼Œæ„Ÿè§‰ä»–çš„å†…å®¹å¡«çš„éå¸¸æ»¡è¿‡çš„å¾ˆå¿«ã€‚æœä¸å…¶ç„¶ï¼Œä»Šå¤©è®²æ“ä½œç³»ç»Ÿï¼Œå³ä½¿æ˜¯ç¬¬äºŒæ¬¡å¬è¯¾ä¹Ÿè¿˜æ˜¯æ™•æ™•ä¹ä¹ï¼Œæ„Ÿè§‰ä¸Šæ¬¡å¬çš„å†…å®¹å…¨éƒ¨éƒ½å·²ç»å¿˜è®°äº†ã€‚åˆæƒ³åˆ°operation systemçš„é‡è¦æ€§ï¼Œä»¥åŠæœ¬ç§‘è¯¾ç¨‹ä¸å¯èƒ½è®²çš„æ¯”è¿™ä¸ªè¿˜ç®€å•ï¼Œå†³å®šæ•´ç†å¸æ”¶ä¸€ä¸‹ï¼ŒæŠŠå‰‘æ¡¥é¡¹ç›®æåˆ°çš„ä¸œè¥¿åƒé€ã€‚ï¼ˆä»¥åŠæ¥å‚è§‚ä¸€ä¸‹æœ¬äººæ²¡æ€ä¹ˆåŠ¨è¿‡çš„åšå®¢</p>
<h1 id="why-do-we-need-an-operating-system"><a href="#why-do-we-need-an-operating-system" class="headerlink" title="why do we need an operating system"></a>why do we need an operating system</h1><ul>
<li>We want to be able to run many programs at the same time</li>
<li>we need to prevent on program overwriting the data of other programs</li>
<li>we need to share resources(printer, hard disk, networkâ€¦),</li>
<li>we need to share data with permissions</li>
</ul>
<h1 id="virtual-memory"><a href="#virtual-memory" class="headerlink" title="virtual memory"></a>virtual memory</h1><p><strong>principle: processes are independent</strong></p>
<p>Virtual memory lets every process(program instance) thinks that it is the <strong>only</strong> program on the computer, each process runs in a virtual address space, thus, they follow the principle.</p>
<h1 id="page"><a href="#page" class="headerlink" title="page"></a>page</h1><p>devide memory adresses into pages. For a 32-bit address(2^32 bytes), we devide it into blocks(usually 2^12 bytes), each block is called one page. Therefore, we have 2^20 pages in this scenario.</p>
<p><img src="/../image/page_adress.png" alt="image"></p>
<p>for each program, it thinks that it has the whole 2^32 bytes of memory, the operating system uses <strong>translation table</strong> to arange the pagesâ€™ physical address so that they wonâ€™t be at the same place.</p>
<p><img src="/../image/page_translation_table.png" alt="image"></p>
<p>But when whould the translation process accour? To keep the system secure, we need a new hardware support so the hardware automatically translates addresses and there is no way to turn off the translation system.</p>
<p><strong>Operating system</strong> creates the translation tables when a process is started, gives the translation table to <strong>a special unit inside the CPU</strong> called the <strong>translation lookaside buffer (TLB)</strong>.<br>(<strong>security:</strong> The kernel keeps the translation tables in physical memory but in places that are not the target of any processâ€™s virtual to physical mapping. This is sufficient to prevent any process from changing any translation table.)</p>
<p>Whenever the process runs a LD or ST instruction, the CPU uses the TLB to translate the address before accessing memory.</p>
<h1 id="demand-paging"><a href="#demand-paging" class="headerlink" title="demand paging"></a>demand paging</h1><p>When there is no enough memory location, we can copy somepages that are not being used onto hard disk, then overwrite them in momory. This allows us to have more programs open at the same time without losing all the rest of their memory.</p>
<p><strong>resident bit(R bit)</strong>: a bit per entry in the translation table to indicate that whether the page is resident in the memory or not.</p>
<p>When a page is not resident, the bits allocated to the physical frame number are repurposed to tell us wehre on disk we saved the page.</p>
<p>If the running process tries to use an address that translates to a non resident page, goes to <strong>page fault interrupt</strong></p>
<h1 id="interrupts"><a href="#interrupts" class="headerlink" title="interrupts"></a>interrupts</h1><p>Interrupts allow the CPU to tell the operating system that sth. has happend and that it needs the operating system to decide how to sort it out.</p>
<p>Interrupts will solve several problems, so an interrupt comes with an integer which idicates what type of problem occurred.</p>
<p><strong>jump table(vector table): in physical memory beginning at address zero, the operating system puts a table of interrupt service routines: references to blocks of machine code that handle each type of problem</strong></p>
<h1 id="handling-interrupts"><a href="#handling-interrupts" class="headerlink" title="handling interrupts"></a>handling interrupts</h1><ol>
<li>interrupt occours</li>
<li>CPU <strong>saves program counter(PC)</strong> in a special CPU register </li>
<li>CPU looks up the interrupt number in jump table</li>
<li>set PC to <strong>the value found in the jump table</strong></li>
<li>CPU hardware <strong>turns off virtual address translation mechanism</strong>(so that it can have full access to the physical memory), execute the instructions</li>
<li>each interrupt service routine ends with a special instruction â€“ <strong>RET</strong>, which <strong>turns on the translation mechanism again, restores the PC to the value saved in the special register</strong></li>
<li>run the program before interrupt as if nothing had happened</li>
</ol>
<h1 id="page-fault-interrupt"><a href="#page-fault-interrupt" class="headerlink" title="page fault interrupt"></a>page fault interrupt</h1><p>When the TLB attempts to translate a virtual address but finds that the corresponding translation table entry is non-resident, the TLB raise an interrupt with the integer corresponding to the code number for a page fault.</p>
<p>The corresponding interrupt service routine selects a <strong>victim page</strong> to move out of memory onto disk, then sends a command to the hard disk to cope the victim page from the memory to the disk, then copys the required page into memory, overwriting the victim page, then execute RET.</p>
<h1 id="optimisations"><a href="#optimisations" class="headerlink" title="optimisations"></a>optimisations</h1><ul>
<li>hard disk is much slower than CPU, the operating system will usually decide to run a different program while it waits for hard disk, then return to this one when the hard disk has finished copying data.</li>
<li>If the victim page has not been written to since it was pulled in from the disk, there is no need to write it out again â€“ itâ€™s the same as the copy on disk! By adding another dirty bit (D) to the translation table entries, we can keep track of whether a page needs to be copied out before it can be overwritten.</li>
</ul>
<h1 id="multilevel-paging"><a href="#multilevel-paging" class="headerlink" title="multilevel paging"></a>multilevel paging</h1><p>the translation tables are too large that consume lots of physical memory, we need to be able to <strong>push the translation tables for dormant processes out to the hard disk</strong>.</p>
<p>solution: make sure page tables are 1 page in size, using <strong>demand paging</strong>.</p>
<p>structure: a tree of tables. Each process will have a single, top-level (â€œrootâ€) table, known as a page directory. The entries in the page directory are the physical frame numbers where small pieces of the page table can be found.</p>
]]></content>
      <categories>
        <category>å­¦ä¹ ç›¸å…³</category>
      </categories>
      <tags>
        <tag>summary</tag>
        <tag>summerschool</tag>
      </tags>
  </entry>
</search>
